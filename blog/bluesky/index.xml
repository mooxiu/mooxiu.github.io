<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>BlueSky on New River, New Water</title>
    <link>http://localhost:1313/blog/bluesky/</link>
    <description>Recent content in BlueSky on New River, New Water</description>
    <generator>Hugo</generator>
    <language>en-US</language>
    <copyright>Copyright © 2024, muyao haruka hsiao.</copyright>
    <lastBuildDate>Fri, 03 Jan 2025 17:55:10 +0900</lastBuildDate>
    <atom:link href="http://localhost:1313/blog/bluesky/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>如何在从天竺(BlueSky)备份自己的数据</title>
      <link>http://localhost:1313/%E5%A6%82%E4%BD%95%E5%9C%A8%E4%BB%8E%E5%A4%A9%E7%AB%BAbluesky%E5%A4%87%E4%BB%BD%E8%87%AA%E5%B7%B1%E7%9A%84%E6%95%B0%E6%8D%AE/</link>
      <pubDate>Fri, 03 Jan 2025 17:55:10 +0900</pubDate>
      <guid>http://localhost:1313/%E5%A6%82%E4%BD%95%E5%9C%A8%E4%BB%8E%E5%A4%A9%E7%AB%BAbluesky%E5%A4%87%E4%BB%BD%E8%87%AA%E5%B7%B1%E7%9A%84%E6%95%B0%E6%8D%AE/</guid>
      <description>&lt;p&gt;天竺[2]提供了便利的导出个人数据的方法，我相信这是号称开放的社交网络的必要条件。&#xA;我没有研究过mastodon的具体protocol，但是我所在的mastodon instance同样拥有导出个人数据的选项，而且相比于天竺要简单得多：导出的数据是一个tar.gz，里面是一些media file 和所有 Toots 的 json 文件。&lt;/p&gt;&#xA;&lt;h2 id=&#34;范围&#34;&gt;范围&lt;/h2&gt;&#xA;&lt;p&gt;天竺导出的文件默认并不包含图片和多媒体信息，应该是基于使用权的考量。&#xA;而且除了支持导出自己的数据之外，也可以使用它的API去导出其他用户的公开数据。&lt;/p&gt;&#xA;&lt;h2 id=&#34;方法&#34;&gt;方法&lt;/h2&gt;&#xA;&lt;p&gt;天竺所使用的 AT Protocol 对每一个用户赋予了一个DID，这是每个用户的唯一可识别码。&#xA;也就是说，除了显示的用户名，和一个可以自定义的handle之外，DID是每个用户不可更改的ID。&#xA;天竺的API正是通过在请求中携带DID去获取用户数据的。&lt;/p&gt;&#xA;&lt;p&gt;需要注意的是，用户的DID并不是隐私信息，而且目前天竺&lt;a href=&#34;https://bsky.social/about/blog/5-19-2023-user-faq&#34;&gt;Currently, there are no private profiles on Bluesky&lt;/a&gt;，因此如果不想让其他人获取你的post，你最好不要发。&#xA;如何知道一个用户的DID参见&lt;a href=&#34;https://docs.bsky.app/docs/advanced-guides/resolving-identities&#34;&gt;这里&lt;/a&gt;，但这篇文章讲的是备份自己的数据，可直接在web UI上操作：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;./bluesky.jpg&#34; alt=&#34;settings -&amp;gt; account -&amp;gt; export my data&#34;&gt;&lt;/p&gt;&#xA;&lt;h2 id=&#34;解析&#34;&gt;解析&lt;/h2&gt;&#xA;&lt;p&gt;天竺导出的文件格式为&lt;code&gt;.car&lt;/code&gt;，可以通过官方提供的一个命令行工具进行解析：https://github.com/bluesky-social/cookbook/tree/main/go-repo-export&lt;/p&gt;&#xA;&lt;p&gt;具体的做法是：&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;安装Go&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;安装命令行工具&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;go install github.com/bluesky-social/cookbook/go-repo-export@latest&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ol start=&#34;3&#34;&gt;&#xA;&lt;li&gt;解析&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;go-repo-export unpack-records xxx.car&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;解析之后会生成一个文件夹，包含了个人的各种数据。&#xA;比较重要的是&lt;code&gt;app.bsky.feed.post&lt;/code&gt;中每一个对每一个post都有一个独立的&lt;code&gt;.json&lt;/code&gt;文件。&lt;/p&gt;&#xA;&lt;h2 id=&#34;reference&#34;&gt;Reference&lt;/h2&gt;&#xA;&lt;p&gt;[1] &lt;a href=&#34;https://docs.bsky.app/blog/repo-export#the-repository-car-file&#34;&gt;https://docs.bsky.app/blog/repo-export#the-repository-car-file&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;[2] &lt;a href=&#34;https://blog.yitianshijie.net/2024/11/18/twitter-shumei/&#34;&gt;把BlueSky叫做天竺的来历&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;This is a page about »Bluesky_archive«.&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
